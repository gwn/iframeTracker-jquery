$.fn.iframeTracker=function(e){$.iframeTracker.track(this.get(),e)},$.iframeTracker={focusRetriever:null,focusRetrieved:!1,handlersList:[],active_iframe:null,init:function(){$(window).focus(),$(window).blur(function(e){$.iframeTracker.windowLoseFocus(e)}),$("body").append('<div style="position:fixed; top:0; left:0; overflow:hidden;"><input style="position:absolute; left:-300px;" type="text" value="" id="focus_retriever" readonly="true" /></div>'),this.focusRetriever=$("#focus_retriever"),this.focusRetrieved=!1,$(document).mousemove(function(){document.activeElement&&"IFRAME"==document.activeElement.tagName&&($.iframeTracker.focusRetriever.focus(),$.iframeTracker.focusRetrieved=!0)})},track:function(e,r){r.target=e,$.iframeTracker.handlersList.push(r),$(e).bind("mouseover",{handler:r},$.iframeTracker.mouseoverListener).bind("mouseout",{handler:r},$.iframeTracker.mouseoutListener)},mouseoverListener:function(e){e.data.handler.over=!0,$.iframeTracker.active_iframe=this},mouseoutListener:function(e){e.data.handler.over=!1,$.iframeTracker.focusRetriever.focus()},windowLoseFocus:function(){for(var e in this.handlersList)if(1==this.handlersList[e].over)try{this.handlersList[e].call(this.active_iframe,this.active_iframe)}catch(r){}}},$(function(){$.iframeTracker.init()});
